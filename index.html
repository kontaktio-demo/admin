<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>Kontaktio Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- STYLES -->
    <link rel="stylesheet" href="admin.css" />

    <!-- FAVICON (opcjonalnie) -->
    <link rel="icon" href="favicon.ico" />
  </head>

  <body>
    <div id="app">

      <!-- ========================= -->
      <!-- LOGIN VIEW -->
      <!-- ========================= -->
      <div id="login-view" class="view active">
        <div class="card">
          <h1>Kontaktio Admin</h1>
          <p class="subtitle">Panel zarządzania asystentami</p>

          <label class="field">
            <span>Hasło administratora</span>
            <input type="password" id="admin-password" autocomplete="current-password" />
          </label>

          <button id="login-btn" class="primary">Zaloguj</button>
          <p id="login-error" class="error"></p>
        </div>
      </div>

      <!-- ========================= -->
      <!-- PANEL VIEW -->
      <!-- ========================= -->
      <div id="panel-view" class="view">

        <!-- TOPBAR -->
        <header class="topbar">
          <div>
            <h1>Kontaktio Admin</h1>
            <p class="subtitle">Zarządzanie klientami i konfiguracją AI</p>
          </div>

          <div class="topbar-right">
            <span class="muted">Zalogowano</span>
            <button id="logout-btn" class="ghost">Wyloguj</button>
          </div>
        </header>

        <!-- ========================= -->
        <!-- MAIN LAYOUT -->
        <!-- ========================= -->
        <main class="layout">

          <!-- SIDEBAR -->
          <aside class="sidebar">
            <div class="sidebar-header">
              <h2>Klienci</h2>
              <button id="add-client-btn" title="Dodaj klienta">+</button>
            </div>

            <ul id="clients-list"></ul>
          </aside>

          <!-- CONTENT -->
          <section class="content">

            <!-- TABS -->
            <div class="tabs">
              <button class="tab-button active" data-tab="settings">Ustawienia</button>
              <button class="tab-button" data-tab="stats">Statystyki</button>
              <button class="tab-button" data-tab="logs">Logi</button>
              <button class="tab-button" data-tab="preview">Podgląd</button>
            </div>

            <!-- EMPTY STATE -->
            <div id="empty-state" class="empty">
              Wybierz klienta z listy po lewej, aby edytować jego konfigurację.
            </div>

            <!-- ========================= -->
            <!-- TAB: SETTINGS -->
            <!-- ========================= -->
            <form
              id="client-form"
              class="client-form tab-content"
              data-tab="settings"
            >

              <!-- HEADER -->
              <div class="form-header">
                <h2 id="client-id-label"></h2>
                <button
                  type="button"
                  id="delete-client-btn"
                  class="danger-outline"
                >
                  Usuń klienta
                </button>
              </div>

              <!-- ========================= -->
              <!-- COMPANY -->
              <!-- ========================= -->
              <h3>Dane firmy</h3>
              <div class="grid two">
                <div class="field">
                  <span>Nazwa firmy</span>
                  <input type="text" id="company-name" />
                </div>
                <div class="field">
                  <span>Email</span>
                  <input type="email" id="company-email" />
                </div>
                <div class="field">
                  <span>Telefon</span>
                  <input type="text" id="company-phone" />
                </div>
                <div class="field">
                  <span>Adres</span>
                  <input type="text" id="company-address" />
                </div>
                <div class="field">
                  <span>Godziny otwarcia</span>
                  <input type="text" id="company-hours" />
                </div>
              </div>

              <!-- ========================= -->
              <!-- STATUS -->
              <!-- ========================= -->
              <h3>Status</h3>
              <div class="grid two">
                <div class="field">
                  <span>Status</span>
                  <select id="client-status">
                    <option value="active">active</option>
                    <option value="unactive">unactive</option>
                  </select>
                </div>
                <div class="field">
                  <span>Komunikat statusu</span>
                  <input type="text" id="client-status-message" />
                </div>
              </div>

              <!-- ========================= -->
              <!-- AI -->
              <!-- ========================= -->
              <h3>AI — Model i parametry</h3>
              <div class="grid two">
                <div class="field">
                  <span>Model</span>
                  <input type="text" id="model" />
                </div>
                <div class="field">
                  <span>Temperature</span>
                  <input type="number" step="0.05" min="0" max="1" id="temperature" />
                </div>
                <div class="field">
                  <span>Max tokens</span>
                  <input type="number" id="max-tokens" />
                </div>
                <div class="field">
                  <span>Top‑p</span>
                  <input type="number" step="0.05" min="0" max="1" id="top-p" />
                </div>
                <div class="field">
                  <span>Presence penalty</span>
                  <input type="number" step="0.1" id="presence-penalty" />
                </div>
                <div class="field">
                  <span>Frequency penalty</span>
                  <input type="number" step="0.1" id="frequency-penalty" />
                </div>
                <div class="field">
                  <span>Context limit</span>
                  <input type="number" id="context-limit" />
                </div>
              </div>

              <div class="field">
                <span>System prompt</span>
                <textarea id="system-prompt" rows="4"></textarea>
              </div>

              <div class="field">
                <span>Knowledge</span>
                <textarea id="knowledge" rows="6"></textarea>
              </div>

              <div class="field">
                <span>Rules</span>
                <textarea id="rules" rows="4"></textarea>
              </div>

              <!-- ========================= -->
              <!-- BEHAVIOR -->
              <!-- ========================= -->
              <h3>Zachowanie</h3>
              <div class="grid two">
                <div class="field">
                  <span>Welcome message</span>
                  <input type="text" id="welcome-message" />
                </div>
                <div class="field">
                  <span>Welcome hint</span>
                  <input type="text" id="welcome-hint" />
                </div>
                <div class="field">
                  <span>Launcher icon</span>
                  <input type="text" id="launcher-icon" />
                </div>
                <div class="field">
                  <span>Auto‑open</span>
                  <select id="auto-open-enabled">
                    <option value="false">false</option>
                    <option value="true">true</option>
                  </select>
                </div>
                <div class="field">
                  <span>Auto‑open delay (ms)</span>
                  <input type="number" id="auto-open-delay" />
                </div>
              </div>

              <div class="field">
                <span>Quick replies (oddzielone przecinkami)</span>
                <input type="text" id="quick-replies" />
              </div>

              <!-- ========================= -->
              <!-- SAVE -->
              <!-- ========================= -->
              <div class="form-footer">
                <button type="submit" class="primary">Zapisz zmiany</button>
                <span id="save-status" class="muted"></span>
              </div>

            </form>

            <!-- ========================= -->
            <!-- TAB: STATS -->
            <!-- ========================= -->
            <div class="tab-content" data-tab="stats">
              <h2>Statystyki</h2>
              <div id="stats-content" class="stats-grid"></div>
            </div>

            <!-- ========================= -->
            <!-- TAB: LOGS -->
            <!-- ========================= -->
            <div class="tab-content" data-tab="logs">
              <h2>Logi rozmów</h2>
              <div id="logs-content" class="logs-list"></div>
            </div>

            <!-- ========================= -->
            <!-- TAB: PREVIEW -->
            <!-- ========================= -->
            <div class="tab-content" data-tab="preview">
              <h2>Podgląd widgetu</h2>
              <div class="preview-container">
                <iframe id="widget-preview"></iframe>
              </div>
            </div>

          </section>
        </main>
      </div>
    </div>

    <!-- SCRIPT -->
    <script src="admin.js"></script>
  </body>
</html>
