<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>Kontaktio Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="admin.css" />
  </head>

  <body>
    <div id="app">

      <!-- LOGIN VIEW -->
      <div id="login-view" class="view active">
        <div class="card">
          <h1>Kontaktio Admin</h1>
          <p class="subtitle">Panel zarządzania klientami</p>

          <label class="field">
            <span>Hasło administratora</span>
            <input type="password" id="admin-password" />
          </label>

          <button id="login-btn" class="primary">Zaloguj</button>
          <p id="login-error" class="error"></p>
        </div>
      </div>

      <!-- PANEL VIEW -->
      <div id="panel-view" class="view">

        <!-- TOPBAR -->
        <header class="topbar">
          <div>
            <h1>Kontaktio Admin</h1>
            <p class="subtitle">Zarządzanie klientami i statystykami</p>
          </div>

          <div class="topbar-right">
            <span id="admin-status">Zalogowano</span>
            <button id="logout-btn" class="ghost">Wyloguj</button>
          </div>
        </header>

        <!-- MAIN LAYOUT -->
        <main class="layout">

          <!-- SIDEBAR -->
          <aside class="sidebar">
            <div class="sidebar-header">
              <h2>Klienci</h2>
              <button id="add-client-btn">+</button>
            </div>

            <ul id="clients-list"></ul>
          </aside>

          <!-- CONTENT -->
          <section class="content">

            <!-- TABS -->
            <div class="tabs">
              <button class="tab-button active" data-tab="settings">Ustawienia</button>
              <button class="tab-button" data-tab="stats">Statystyki</button>
              <button class="tab-button" data-tab="logs">Logi rozmów</button>
              <button class="tab-button" data-tab="preview">Podgląd</button>
            </div>

            <!-- EMPTY STATE -->
            <div id="empty-state" class="empty">
              Wybierz klienta z listy po lewej, aby edytować jego ustawienia.
            </div>

            <!-- TAB: SETTINGS -->
            <form id="client-form" class="client-form tab-content" data-tab="settings">
              <div class="form-header">
                <h2 id="client-id-label"></h2>
                <button type="button" id="delete-client-btn" class="danger-outline">Usuń klienta</button>
              </div>

              <!-- ========================= -->
              <!-- COMPANY -->
              <!-- ========================= -->
              <h3>Dane firmy</h3>

              <div class="grid two">
                <div class="field"><span>Nazwa firmy</span><input type="text" id="company-name" /></div>
                <div class="field"><span>Email</span><input type="email" id="company-email" /></div>
                <div class="field"><span>Telefon</span><input type="text" id="company-phone" /></div>
                <div class="field"><span>Adres</span><input type="text" id="company-address" /></div>
                <div class="field"><span>Godziny otwarcia</span><input type="text" id="company-hours" /></div>
              </div>

              <!-- ========================= -->
              <!-- STATUS -->
              <!-- ========================= -->
              <h3>Status</h3>

              <div class="grid two">
                <div class="field">
                  <span>Status</span>
                  <select id="client-status">
                    <option value="active">active</option>
                    <option value="unactive">unactive</option>
                  </select>
                </div>

                <div class="field">
                  <span>Komunikat statusu</span>
                  <input type="text" id="client-status-message" />
                </div>
              </div>

              <!-- ========================= -->
              <!-- AI SETTINGS -->
              <!-- ========================= -->
              <h3>AI — Ustawienia modelu</h3>

              <div class="grid two">
                <div class="field"><span>Model</span><input type="text" id="model" /></div>
                <div class="field"><span>Temperature</span><input type="number" step="0.05" min="0" max="1" id="temperature" /></div>
                <div class="field"><span>maxTokens</span><input type="number" id="max-tokens" /></div>
                <div class="field"><span>top_p</span><input type="number" step="0.05" min="0" max="1" id="top-p" /></div>
                <div class="field"><span>presence_penalty</span><input type="number" step="0.1" id="presence-penalty" /></div>
                <div class="field"><span>frequency_penalty</span><input type="number" step="0.1" id="frequency-penalty" /></div>
                <div class="field"><span>context_limit</span><input type="number" id="context-limit" /></div>
              </div>

              <div class="field"><span>System Prompt</span><textarea id="system-prompt" rows="4"></textarea></div>
              <div class="field"><span>Knowledge</span><textarea id="knowledge" rows="6"></textarea></div>
              <div class="field"><span>Rules</span><textarea id="rules" rows="4"></textarea></div>

              <!-- ========================= -->
              <!-- BEHAVIOR -->
              <!-- ========================= -->
              <h3>Zachowanie asystenta</h3>

              <div class="grid two">
                <div class="field"><span>Welcome message</span><input type="text" id="welcome-message" /></div>
                <div class="field"><span>Welcome hint</span><input type="text" id="welcome-hint" /></div>
                <div class="field"><span>Launcher icon</span><input type="text" id="launcher-icon" /></div>
                <div class="field"><span>Auto-open (true/false)</span><input type="text" id="auto-open-enabled" /></div>
                <div class="field"><span>Auto-open delay (ms)</span><input type="number" id="auto-open-delay" /></div>
              </div>

              <div class="field">
                <span>Quick replies (oddzielone przecinkami)</span>
                <input type="text" id="quick-replies" />
              </div>

              <!-- ========================= -->
              <!-- THEME -->
              <!-- ========================= -->
              <h3>Wygląd — Kolory i styl</h3>

              <div class="grid three">
                <div class="field"><span>Header BG</span><input type="color" id="theme-header-bg" /></div>
                <div class="field"><span>Header Text</span><input type="color" id="theme-header-text" /></div>
                <div class="field"><span>User Bubble BG</span><input type="color" id="theme-user-bubble-bg" /></div>
                <div class="field"><span>User Bubble Text</span><input type="color" id="theme-user-bubble-text" /></div>
                <div class="field"><span>Bot Bubble BG</span><input type="color" id="theme-bot-bubble-bg" /></div>
                <div class="field"><span>Bot Bubble Text</span><input type="color" id="theme-bot-bubble-text" /></div>
                <div class="field"><span>Widget BG</span><input type="color" id="theme-widget-bg" /></div>
                <div class="field"><span>Input BG</span><input type="color" id="theme-input-bg" /></div>
                <div class="field"><span>Input Text</span><input type="color" id="theme-input-text" /></div>
                <div class="field"><span>Button BG</span><input type="color" id="theme-button-bg" /></div>
                <div class="field"><span>Button Text</span><input type="color" id="theme-button-text" /></div>
                <div class="field"><span>Radius</span><input type="number" id="theme-radius" /></div>
              </div>

              <div class="grid two">
                <div class="field"><span>Pozycja widgetu</span><input type="text" id="theme-position" /></div>
                <div class="field"><span>Launcher size</span><input type="number" id="launcher-size" /></div>
                <div class="field"><span>Header height</span><input type="number" id="header-height" /></div>
                <div class="field"><span>Input height</span><input type="number" id="input-height" /></div>
                <div class="field"><span>Bubble radius</span><input type="number" id="bubble-radius" /></div>
              </div>

              <!-- ========================= -->
              <!-- POSITIONING -->
              <!-- ========================= -->
              <h3>Pozycjonowanie</h3>

              <div class="grid two">
                <div class="field"><span>Offset X</span><input type="number" id="offset-x" /></div>
                <div class="field"><span>Offset Y</span><input type="number" id="offset-y" /></div>
              </div>

              <!-- ========================= -->
              <!-- DARK MODE -->
              <!-- ========================= -->
              <h3>Tryb ciemny</h3>

              <div class="grid two">
                <div class="field"><span>Dark mode enabled</span><input type="text" id="dark-mode-enabled" /></div>
                <div class="field"><span>Dark mode theme (JSON)</span><textarea id="dark-mode-theme" rows="4"></textarea></div>
              </div>

              <!-- ========================= -->
              <!-- BUSINESS LINKS -->
              <!-- ========================= -->
              <h3>Linki biznesowe</h3>

              <div class="grid two">
                <div class="field"><span>Website</span><input type="text" id="website" /></div>
                <div class="field"><span>Facebook</span><input type="text" id="facebook-url" /></div>
                <div class="field"><span>Instagram</span><input type="text" id="instagram-url" /></div>
                <div class="field"><span>Google Maps</span><input type="text" id="google-maps-url" /></div>
              </div>

              <!-- ========================= -->
              <!-- LEAD FORM -->
              <!-- ========================= -->
              <h3>Lead form</h3>

              <div class="grid two">
                <div class="field"><span>Lead form enabled</span><input type="text" id="lead-form-enabled" /></div>
                <div class="field"><span>Tytuł formularza</span><input type="text" id="lead-form-title" /></div>
                <div class="field"><span>Sukces message</span><input type="text" id="lead-form-success-message" /></div>
              </div>

              <div class="field">
                <span>Pola formularza (JSON)</span>
                <textarea id="lead-form-fields" rows="4"></textarea>
              </div>

              <!-- ========================= -->
              <!-- ROUTING -->
              <!-- ========================= -->
              <h3>Routing i integracje</h3>

              <div class="grid two">
                <div class="field"><span>Forward to email</span><input type="text" id="forward-to-email" /></div>
                <div class="field"><span>Webhook URL</span><input type="text" id="webhook-url" /></div>
                <div class="field"><span>Zapier URL</span><input type="text" id="zapier-url" /></div>
                <div class="field"><span>Make.com URL</span><input type="text" id="make-url" /></div>
              </div>

              <!-- ========================= -->
              <!-- LOGIC -->
              <!-- ========================= -->
              <h3>Logika i ograniczenia</h3>

              <div class="field"><span>Blocked keywords (oddzielone przecinkami)</span><input type="text" id="blocked-keywords" /></div>
              <div class="field"><span>Allowed keywords (oddzielone przecinkami)</span><input type="text" id="allowed-keywords" /></div>
              <div class="field"><span>Fallback message</span><input type="text" id="fallback-message" /></div>
              <div class="field"><span>Handoff message</span><input type="text" id="handoff-message" /></div>

              <!-- ========================= -->
              <!-- SAVE -->
              <!-- ========================= -->
              <div class="form-footer">
                <button type="submit" class="primary">Zapisz zmiany</button>
                <span id="save-status" class="muted"></span>
              </div>
            </form>

            <!-- TAB: STATS -->
            <div id="stats-tab" class="tab-content" data-tab="stats">
              <h2>Statystyki</h2>
              <div id="stats-content" class="stats-grid"></div>
            </div>

            <!-- TAB: LOGS -->
            <div id="logs-tab" class="tab-content" data-tab="logs">
              <h2>Logi rozmów</h2>
              <div id="logs-content" class="logs-list"></div>
            </div>

            <!-- TAB: PREVIEW -->
            <div id="preview-tab" class="tab-content" data-tab="preview">
              <h2>Podgląd widgetu</h2>
              <div class="preview-container">
                <iframe id="widget-preview"></iframe>
              </div>
            </div>

          </section>
        </main>
      </div>
    </div>

    <script src="admin.js"></script>
  </body>
</html>

